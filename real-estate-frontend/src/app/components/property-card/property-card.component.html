<div class="card h-full flex flex-col cursor-pointer">
  <div class="relative overflow-hidden rounded-t-lg group">
    <div class="absolute top-2 left-2 z-10">
      <span [ngClass]="listingBadgeClass" class="text-xs font-medium py-1 px-2 rounded">
        {{ property.listingType === 'SALE' ? 'For Sale' : 'For Rent' }}
      </span>
    </div>
    
    <div class="absolute top-2 right-2 z-10" (click)="$event.stopPropagation()">
      <app-favorite-button [listingId]="property.id"></app-favorite-button>
    </div>
    
    <img 
      [src]="property.featuredImage" 
      [alt]="property.title"
      class="w-full h-48 object-cover group-hover:scale-110 transition-transform duration-300"
      (click)="navigateToPropertyDetail()"
    >
  </div>
  
  <div class="flex-grow p-4" (click)="navigateToPropertyDetail()">
    <div class="flex justify-between items-start mb-2">
      <h3 class="text-lg font-semibold line-clamp-1">{{ property.title }}</h3>
      <span class="text-lg font-bold text-primary-600">{{ formattedPrice }}</span>
    </div>
    
    <p class="text-gray-500 mb-3 line-clamp-1">
      {{ property.address }}
      <ng-container *ngIf="property.city">
        , {{ property.city }}
        <ng-container *ngIf="property.state">
          , {{ property.state }}
          <ng-container *ngIf="property.zipCode"> {{ property.zipCode }}</ng-container>
        </ng-container>
      </ng-container>
    </p>
    
    <div class="flex justify-between text-sm text-gray-600 mb-4">
      <div class="flex items-center">
        <span>{{ propertyTypeDisplay }}</span>
      </div>
      <div class="flex items-center">
        <span>{{ property.bedrooms }} Beds</span>
      </div>
      <div class="flex items-center">
        <span>{{ property.bathrooms }} Baths</span>
      </div>
      <div class="flex items-center">
        <span>{{ property.squareFeet }} ftÂ²</span>
      </div>
    </div>
  </div>
  
  <div *ngIf="showActions" class="border-t border-gray-100 p-4">
    <button class="btn btn-primary w-full" (click)="navigateToPropertyDetail()">View Details</button>
  </div>
</div> 